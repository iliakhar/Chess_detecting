### Цель приложения: составление алгебраической и FEN нотации по видео шахматной партии.

Приложение находится на стадии разработки.


## Основная идея


### 1. Поиск с YOLO

В первую очередь используя YOLO найдем шахматные фигуры, область с доской и кисти рук.

- **Зачем искать облость с доской**. Поиск области с шахматной доской необходим для дальнейшего поиска в этой облости секти доски с учетом ее угла наклона и перспективы.

- **Зачем искать кисти рук**. При игре в шахматы во время перемещения фигур руки игроков оказываются над шахматной доской тем самым препятствуя качественному обнаружению как доски так и фигур. 
Поэтому было принято решение не производить поиск сетки доски и фигур если рука находится над доской (над ее предыдущем положением).

![image](https://github.com/user-attachments/assets/5274f7fe-cde7-42cb-9ea4-f10436393d45)

### 2. Поиск сетки доски

Найдем все отрезки в области с шахматной доской и сгруппируем те, что лежат на одной прямой. Отрезки каждой группы разобьем на точки и определим для них линию наилучшего соответствия, 
тем самым объеденив сгруппированные отрезки.

Найдем точки пересечения отрезков и определим какие из них являются точками сетки доски. Отсеим отрезки не проходящие через эти точки, а через оставшиеся проведем прямые. Найдм точки пересечения этих прямых и получим все точки сетки доски.

Посчитав среднеарифметическое координат точек получим центр доски, затем отталкиваясь от растояния между точками и углов наклона прямых определим центры границ доски. Проведем через центры границ отрезки, 
углы которых вычеслины также исходя из углов наклона прямых сетки. Разобьем каждую из получнных границ на 8 частей с учетом изменения растояния между точками и получим сетку доски.

![image](https://github.com/user-attachments/assets/2486ac47-6f95-49d7-a104-930f5ef5c1ef)
![image](https://github.com/user-attachments/assets/afa3fb6e-02fd-4a72-82e6-4c3dcd1264a0)

### 3. Составление нотаций

Алгебраическая нотация - описание сделанных ходов.

FEN нотация - положение всех фигур в конкретный ход.

Зная уравнения прямых сетки доски и координаты фигур определим положение фигур на виртуальной доске. При изменении позиции фигуры будем фиксировать ход дополняя алгебраическую и изменяя FEN нотации.

![image](https://github.com/user-attachments/assets/aa6b2bbb-39af-4aae-849b-5d2370e67ace)




### 4. Интерфейс программы

Окно загрузки видео:

![image](https://github.com/user-attachments/assets/2c81add5-9d2d-43e8-92ff-fe40e821f715)

Окно загрузки изображения:

![image](https://github.com/user-attachments/assets/a77be35f-57b9-40ba-b395-818eadcd43a6)


Основное окно после загрузки видео (вкладки поиска и отображения):

![image](https://github.com/user-attachments/assets/6c59f9f0-e5cc-41bd-85a2-380c3879f6a5)

Основное окно после загрузки изображения (вкладка поиска):

![image](https://github.com/user-attachments/assets/0ebc9fad-8149-4d34-9536-b46c9e6b5422)

